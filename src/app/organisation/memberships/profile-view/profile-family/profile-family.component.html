<section class="profile-family">

  <div class="m-b-15">
    <button class="btn btn-sm btn-outline-primary" (click)="addFamilyMember()">
      <i class="fa fa-plus-circle fa-2x m-r-10 middle"></i>
      <span>{{ 'Add Family Member' | translate }}</span>
    </button>
  </div>

  <div class="m-t-50 text-center" *ngIf="relationService.hasZeroItems() && !relationService.requesting">
    <h3>{{'No Family Members Added' | translate}}</h3>
    <p>{{'Add a family member to get started' | translate}}</p>
  </div>

  <div class="loader-box m-auto" *ngIf="relationService.requesting">
    <span class="rotate dashed colored"></span>
  </div>

  <ul class="list-group list-group-flush">
    <li class="list-group-item" *ngFor="let relation of relationService.getItems()">
      <div class="row">
        <!-- Left Column -->
        <div class="col-sm-8">
          <div class="media">
            <div class="media-left">
              <img [src]="relation.profilePhoto()" class="rounded-circle" default="/assets/images/user/no-photo-icon.jpg" />
            </div>
            <div class="media-body">
              <h6 class="m-b-0">
                {{ relation.name }}
                <span class="m-l-30" *ngIf="!relation.is_alive">
                  <i class="fa fa-times text-danger"></i>
                </span>
              </h6>
              <p class="text-capitalize text-muted">{{ relation.member_relation_type?.name | translate }}</p>
            </div>
          </div>
        </div>

        <!-- Right Column-->
        <div class="col-sm-4 text-center">
          <button href="#" class="btn btn-outline-info m-r-15" (click)="editFamilyMember(relation)">
            <i class="fa fa-pencil"></i>
          </button>

          <button href="#" class="btn btn-outline-danger" (click)="deleteRelation(relation)">
            <i class="fa fa-trash-o"></i>
          </button>
        </div>
      </div>

    </li>
  </ul>

</section>

<app-family-member-editor
  #familyMemberEditor
  [membership]="membership"
  [relation]="selectedRelation"
>
</app-family-member-editor>
